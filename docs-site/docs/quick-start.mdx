# Quick Start

Let's run your first WebGPU game with Mystral Native.js.

## Running Examples

After [installing](/mystralnative/docs/installation) Mystral Native.js, try the included examples. The examples are located in your install directory:

```bash
# Find your install directory
which mystral
# Typically ~/.mystral/mystral

# Run from the install directory
cd ~/.mystral

# Basic WebGPU triangle
mystral run examples/triangle.js

# 3D rotating cube
mystral run examples/simple-cube.js

# Full 3D scene with PBR lighting
mystral run examples/mystral-helmet.js
```

## Your First Game

Create a new file called `hello.js`:

```javascript
// Get the WebGPU adapter and device
const adapter = await navigator.gpu.requestAdapter();
const device = await adapter.requestDevice();

// Get the canvas context
const context = canvas.getContext("webgpu");
const format = navigator.gpu.getPreferredCanvasFormat();
context.configure({ device, format });

// Create a simple shader
const shader = device.createShaderModule({
    code: `
        @vertex fn vs(@builtin(vertex_index) i: u32) -> @builtin(position) vec4f {
            var pos = array<vec2f, 3>(
                vec2f( 0.0,  0.5),
                vec2f(-0.5, -0.5),
                vec2f( 0.5, -0.5)
            );
            return vec4f(pos[i], 0.0, 1.0);
        }

        @fragment fn fs() -> @location(0) vec4f {
            return vec4f(1.0, 0.5, 0.0, 1.0);
        }
    `
});

// Create the render pipeline
const pipeline = device.createRenderPipeline({
    layout: "auto",
    vertex: { module: shader, entryPoint: "vs" },
    fragment: { module: shader, entryPoint: "fs", targets: [{ format }] }
});

// Render loop
function render() {
    const encoder = device.createCommandEncoder();
    const pass = encoder.beginRenderPass({
        colorAttachments: [{
            view: context.getCurrentTexture().createView(),
            clearValue: { r: 0.1, g: 0.1, b: 0.1, a: 1 },
            loadOp: "clear",
            storeOp: "store"
        }]
    });
    pass.setPipeline(pipeline);
    pass.draw(3);
    pass.end();
    device.queue.submit([encoder.finish()]);
    requestAnimationFrame(render);
}
render();
```

Run it:

```bash
mystral run hello.js
```

You should see an orange triangle on a dark background.

## Loading Assets

Mystral Native.js supports loading assets via `fetch`:

```javascript
// Load a 3D model
const response = await fetch("file://./assets/model.glb");
const buffer = await response.arrayBuffer();

// Load a texture
const textureResponse = await fetch("file://./textures/diffuse.png");
const textureBlob = await textureResponse.blob();

// Load JSON data
const configResponse = await fetch("file://./config.json");
const config = await configResponse.json();
```

## Adding Audio

Use the Web Audio API for sound:

```javascript
const audioContext = new AudioContext();

// Load and play a sound
const response = await fetch("file://./sounds/music.mp3");
const buffer = await response.arrayBuffer();
const audioBuffer = await audioContext.decodeAudioData(buffer);

const source = audioContext.createBufferSource();
source.buffer = audioBuffer;
source.connect(audioContext.destination);
source.start();
```

## Handling Input

Keyboard and gamepad input work like in browsers:

```javascript
// Keyboard
window.addEventListener("keydown", (e) => {
    console.log("Key pressed:", e.key);
});

// Gamepad
window.addEventListener("gamepadconnected", (e) => {
    console.log("Gamepad connected:", e.gamepad.id);
});

// In your game loop
function update() {
    const gamepads = navigator.getGamepads();
    for (const gamepad of gamepads) {
        if (gamepad) {
            // Read buttons and axes
            const leftStickX = gamepad.axes[0];
            const leftStickY = gamepad.axes[1];
            const aButton = gamepad.buttons[0].pressed;
        }
    }
}
```

## Next Steps

- [Running Games](/mystralnative/docs/guides/running-games) - CLI options and window configuration
- [CLI Commands](/mystralnative/docs/api/cli) - Full command reference
- [JavaScript APIs](/mystralnative/docs/api/javascript) - Supported Web APIs
